# KPI管理API（目標指数管理API）

---

## はじめに
目標を立てても、「今どこまで進んでいるのか」が曖昧なままになってしまうことは少なくありません。
最終目標（KGI）だけを掲げても、日々の行動や数値と結びつかなければ、成長は可視化されません。

本APIは、KGI（最終目標）とKPI（中間指標）、そして日々の進捗記録を構造的に管理するために開発しました。
UIを持たないバックエンドAPIとして設計し、他アプリへ組み込み可能な形で提供することを想定しています。

目標を「感覚」ではなく「数値」で管理するための基盤となるAPIです。

---

## コンセプト
「目標を構造化し、進捗を数値で可視化する。」

KGI → KPI → 記録という階層構造を明確に設計し、
単なるデータ保存ではなく、“成長を管理するためのAPI”を目指しました。

MVPでは余計な機能を削ぎ落とし、

- エンティティ設計
- REST API設計
- リレーション管理
- CRUD操作の安定実装
  
に集中しています。

---

## 概要
本APIは、目標管理のためのREST APIです。  
1. ユーザーを作成
2. ユーザーごとにKGIを登録
3. KGIに紐づくKPIを登録
4. KPIごとに日付単位で進捗を記録

という流れでデータを管理します。

MVP版では認証機能は実装せず、
「APIとして正しく設計・実装されていること」にフォーカスしています。

---

## 主な機能
- ユーザー作成・取得
- KGI作成・取得・更新・削除
- KPI作成・取得・更新・削除
- KPI進捗記録の作成・取得・削除
- RESTful設計に基づくエンドポイント実装
- Postmanによる動作確認

---

## データ構造
本プロジェクトは、以下の階層構造でデータを管理しています。

```text
AppUser (ユーザー)
 　　  └── KGI (最終目標)
        　　　└── KPI (中間指標)
             　　　　└── KPIRecord (進捗履歴)
```

---

## データベース設計
各テーブルは、上位のリソースと親子関係を持ちます。
| テーブル名 | 役割 | 説明 |
|-----------|------|------|
| **app_users** | データ所有者 | アプリケーションの利用者情報を保持 |
| **kgi** | 最終目標 | 達成すべき最上位の目標 |
| **kpi** | 測定指標 | KGI達成のために計測する具体的な数値 |
| **kpi_record** | 進捗履歴 | 日々の実績値を記録するデータ |

---

## 使用技術
- **バックエンド**：Java / Spring Boot
- **ORM**：Spring Data JPA
- **データベース**：MySQL
- **ビルドツール**：Maven
- **開発環境**：IntelliJ IDEA
- **APIテスト**：Postman

---

## 起動方法
1. リポジトリをクローンする
   ```bash
   git clone [https://github.com/Ritsuki-Irabu/kpi-api.git](https://github.com/Ritsuki-Irabu/kpi-api.git)
2. IntelliJ IDEAでプロジェクトを開く
   
3. application.yml（またはproperties）のDB設定確認
   
4. Spring Bootアプリを実行する
  
5. Postman等で http://localhost:8080 にアクセス

---

## 実装予定機能（拡張案）
- DTO導入によるEntityとAPI入出力の分離
- 進捗率（%）の動的計算ロジック実装
- バリデーション強化
- 例外処理の統一（GlobalExceptionHandler）
- 認証・認可（Spring Security / JWT）
- フロントエンド連携
- グラフ表示向けAPI拡張

---

## おわりに
本APIは、UIを持たないバックエンド専用アプリとして設計しました。
目標管理を構造化し、拡張可能な設計を意識しています。

現在はMVP段階ですが、今後は進捗計算ロジックや認証機能を追加し、
より実用性の高いAPIへ発展させていく予定です。

改善提案やフィードバックがあれば、ぜひ issue や pull request をお願いします。
